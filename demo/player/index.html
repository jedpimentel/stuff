
<!DOCTYPE html> 
<html>
    <head>
        <title>Player</title>
        <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
        <meta charset="UTF-8">
    </head>
    <body style="font-family:courier; color:white; background-color: black">
        <section id="main"></section>
        <a-scene ar id="scene">

            <a-assets>
                <video id="video-asset" autoplay loop="true" src="video.mp4"></video>
            </a-assets>

            <a-light type='ambient' color='white'></a-light>

            <a-entity position="0 0 0">
                <a-camera look-controls="pointerLockEnabled: true" wasd-controls>
                    <a-cylinder id="fing-longer" position="0.2 -0.2 -0.2" radius="0.01" height= "1.0" rotation="90 0 0" color="beige" opacity="1.0"></a-cylinder>
                    <a-entity position="0.2 -0.2 -0.7" cursor="rayOrigin: entity; showLine: true;" raycaster="showLine: true; far: 16" line="color: white; opacity:0.5"></a-entity>
                </a-camera>
            </a-entity>
            
            <!-- base platform -->
            <a-circle radius='1' position='0 0 0' rotation='-90 0 0' color='gray'></a-circle>

            <!-- standing "television" -->
            <a-entity position='0 1.6 0'>

                <!-- frame -->
                <a-box color='gray' width='1' height='1' depth='0.3'  position='0 0 -0.91'></a-box>
                <a-box color='#666' width='0.3' height='1.1' depth='0.15'  position='0 -1.05 -0.91'></a-box>

                <!-- screen -->
                <a-video id='video-element' src='#video-asset' autoplay loop="true" position='0 0 -0.75' width='0.5' height='0.5'></a-video>
                
                <!-- labels -->
                <a-image src='title.png' width='0.54' height='0.2' rotate='0 180 0' position='0 0.35 -0.75'></a-image>
                <a-entity id='icon-strip' position='0 -0.35 -0.75'>
                    <!-- <a-image src='icon-rw.png'    height='0.1' width='0.1' position='-0.2 0 0'></a-image> -->
                    <a-image src='icon-play.png'  id='play' height='0.1' width='0.1' position='-0.1 0 0'></a-image>
                    <a-image src='icon-pause.png' id='pause' height='0.1' width='0.1' position='0 0 0'></a-image>
                    <!-- <a-image src='icon-ff.png'    height='0.1' width='0.1' position='0.1 0 0'></a-image> -->
                    <!-- <a-image src='icon-exit.png'  height='0.1' width='0.1' position='0.2 0 0'></a-image> -->

                    <a-text id="status" position='0.2 -0.2 0'></a-text>

                </a-entity>
            </a-entity>
        </a-scene>

        <script type="text/javascript">
            {
                const play = document.querySelector('#play');
                const pause = document.querySelector('#pause');
                const vid = document.querySelector('#video-asset');
                const status = document.querySelector('#status')

                // this is meant to be a general media player for VR

                // Possible directions:
                // - ability to play only a certain hour off a playlist
                // - pre-set custom transitions between clips, default intro/outro styles that are inter-compatable?

                play.addEventListener('click', () => {
                    status.setAttribute('value', 'play');
                    vid.play();
                });
                pause.addEventListener('click', () => {
                    status.setAttribute('value', 'pause');
                    vid.pause();
                });           
            }
        </script>
    </body>
</html>
