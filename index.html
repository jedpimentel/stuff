
<!DOCTYPE html> 
<html>
    <head>
        <title>Jose's Stuff</title>
        <!-- in-vr links break upgrading 8.2 to 9.2 -->
        <!-- <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script> -->
        <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
        <!-- <script src="https://aframe.io/releases/1.0.1/aframe.min.js"></script> -->

        <!-- <script src="../../lib/GLTFExporter.js"></script> -->
        <script src="lib/jose-components.js"></script>
        
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
        <meta charset="UTF-8">
    </head>
    <body style="font-family:courier; color:white; background-color: black; height:100vh; overflow:none">

        <!-- REFACTOR: https://aframe.io/docs/0.8.0/components/sound.html -->
        <audio id='audio-clip'>
          <source src="placeholder.flac" type='audio/flac' />
          <p>Your user agent does not support the HTML5 Audio element.</p>
        </audio>
        <section id="main"></section>

        <!-- <a-scene id="scene" embedded style="height:25%;width:25%;"> -->
        <a-scene id="scene" embedded>
        <!-- <a-scene id="scene" embedded style="height:1000px;width:1000px;"> -->

            <a-entity position="1.5 0 -3.5">
                <!-- WAX OFF -->
                <!-- <a-camera look-controls="pointerLockEnabled: true" near="0.001" wasd-controls>
                    <a-cylinder id="fing-longer" position="0.2 -0.4 -0.9" radius="0.01" height= "1.0" rotation="90 0 0" color="beige" opacity="1.0"></a-cylinder>
                    <a-entity pos-trail-line="segments: 10000" position="0.2 -0.4 -2"></a-entity>
                    <a-entity position="0.2 -0.4 -1.4" cursor="rayOrigin: entity; showLine: true;" raycaster="showLine: true; far: 16" line="color: white; opacity:0.5"></a-entity>
                </a-camera> -->
                <!-- WAX ON -->
                <a-entity joses-default-interface></a-entity>
            </a-entity>

            <!-- place these things first in HTML, for render order reasons -->
            <a-image src="turtles-in-sink.jpg" position="0 -15 0" rotation="90 0 0" width="20.48" height="15.36"></a-image>
            <a-image src="beach-on-cup.jpg" position="-10 2.15 0" rotation="0 90 0" width="5.76" height="10.24"></a-image>
            <a-image src="mella.png" position="-10.01 -0.09 0" rotation="0 90 0" width="5.76" height="5.76"></a-image>

            <!-- transparency fix, ensure the stranslucent floor tiles and stuff -->
            <!-- are higher up in the html, for transparency reasons -->
            <a-entity id="blob"></a-entity>

            <a-assets>
                <video id="video-asset" src="vid.mp4"></video>
            </a-assets>

            <a-box id="blue-cube" class="clickable" position="-3 0.5 -11" rotation="0 45 0" color="blue" opacity="0.3"></a-box>
            <a-sphere id="red-sphere" class="clickable" click-to-reposition position="0 0.5 -11" radius="0.5" color="red" opacity="0.3"></a-sphere>
            <a-cylinder id='green-cyl' class="clickable" position="3 0.75 -11" radius="0.5" height="1.5" color="green" opacity="0.3"></a-cylinder>

            <a-video id="video-clip" src="#video-asset" position="-3 2 -11" width="2.56" height="1.44" position="0 2 -5"></a-video>

            <a-box id="clicker-game-banner" src="clicker-game.png" position="0.5 2.5 -7.5" color="white"></a-box>

            <!-- 20191224-note-to-self: Make an AFrame component with multiple instances (a-button, b-button, ..., n-button ?), that takes a function, action, tool, or some sort of whatever as an argument/parameter that does an action. Startup script checks scene for component and registers it with an ActionHandler.\n\nEx: &lt;a-key&gt; exists in a scene as a cube that goes "ding" if the "a" key is pressed. Keys/buttons defined inside the a-unified-ui component need to be moved around before the component's innerHTML gets set, allowing easier camera-anchored stuff. Attaching them to Quest/Etc controller could be a flag. If a-unified-ui component already has something for that key, maybe have a menu/wizard to sort things out when entering scene. Basic: press "f" to ding. Extra: UI-attached line-drawing button that attaches self to mouse, touchscreen, tracked-gamepad, etc. -->
            <a-text value="20191224-note-to-self: Make an AFrame component with multiple instances (a-button, b-button, ..., n-button ?), that takes a function, action, tool, or some sort of whatever as an argument/parameter that does an action. Startup script checks scene for component and registers it with an ActionHandler.\n\nEx: &lt;A-KEY&gt; exists in a scene as a cube that goes &ldquo;DING&rdquo; if the &ldquo;A&rdquo;key is pressed. Keys/buttons defined inside the a-unified-ui component need to be moved around before the component's innerHTML gets set, allowing easier camera-anchored stuff. Attaching them to Quest/Etc controller could be a flag. If a-unified-ui component already has something for that key, maybe have a menu/wizard to sort things out when entering scene. Basic: press&ldquo;f&rdquo;to ding. Extra: UI-attached line-drawing button that attaches self to mouse, touchscreen, tracked-gamepad, etc." 
                width='4'
                wrap-count='82'
                position='-0.5 1.2 -6.5'></a-text>
            <!-- wrapCount not working? -->

            <a-text value="[Sticking to 0.8.2 for now] - Known bugs:\n- yellow button sometimes doesn't work???\n- dual-raycaster/clicker is glitchy\n- Updating to Aframe 0.9.2 from 0.8.2 would break link traversal. 1.0.1 was unsafe (VR button broke my mouse+keyboard implementation, phone camera was looking straight down)" position="1.1 2.5 -8"></a-text>

            <a-entity class='table' position='-4 0.01 -9'>
                <a-entity class='grid-fitter' position='0.5 0 0.5'>

                    <a-text  position='6 2.2 5' value='scanned\nhandwriting' align='center' src='chalk-effect.png' rotation='0 -90 0'></a-text>
                    <a-image  position='6 1.5 5' src='chalk-effect.png' rotation='0 -90 0'></a-image>
                    <a-entity position='5 0 3'>

                        <!-- table base -->
                        <a-cylinder color='saddlebrown' radius='0.25' height='0.7' position='0 0.35 0'></a-cylinder>

                        <!-- table top -->
                        <a-cylinder color='saddlebrown' radius='1' height='0.05' position='0 0.725 0'></a-cylinder>

                        <!-- table surface -->
                        <a-entity position='0 0.75 0'>

                            <a-entity class='table-demo' position='0 0 0'>

                                <a-entity id='clock-hrs'><a-sphere position='0 0 -0.35' radius='0.1'></a-sphere></a-entity>
                                <a-entity id='clock-min'><a-sphere position='0 0 -0.60' radius='0.1'></a-sphere></a-entity>
                                <a-entity id='clock-sec'><a-sphere position='0 0 -0.85' radius='0.1'></a-sphere></a-entity>

                                <!-- <a-box id="clicker-button" depth= '0.52' width="0.52" height="0.16" position="0 0.08 0" color="yellow"></a-box>
                                <a-text value="<- click" position="0.26 0 0" rotation="-90 0 0"></a-text>
                                <a-text value="Score:" align="center" position="0 0 0.45" rotation="-90 0 0"></a-text>
                                <a-text id="clicker-score" value="0" align="center" position="0 0 0.70" rotation="-90 0 0"></a-text> -->

                            </a-entity>

                            <a-entity class='table-demo' position='-2 0 0'>
                                <a-box id="clicker-button" class="clickable" depth= '0.52' width="0.52" height="0.32" position="0 0.05 0" color="yellow"></a-box>
                                <a-text value="<- click" position="0.26 0 0" rotation="-90 0 0"></a-text>
                                <a-text value="Score:" align="center" position="0 0 0.45" rotation="-90 0 0"></a-text>
                                <a-text id="clicker-score" value="0" align="center" position="0 0 0.70" rotation="-90 0 0"></a-text>
                            </a-entity>


                        </a-entity>

                    </a-entity>

<!-- 
                    <a-entity id='next-button'>
                        <a-text position='7 1 3' value='next' align='center'></a-text> 
                        <a-box src='next.png' position='7 0.7 3' height='0.25' width='0.25' depth='0.25'></a-box>
                    </a-entity>
 -->                    

                </a-entity>

            </a-entity>

            <a-entity id='20181201-dream' position='-4 0.01 -9'>
                <a-entity class='grid-fitter' position='0.5 0 0.5'>

                    <a-circle radius='0.25' position='0 0 1' rotation='-90 0 0' opacity='0.2'></a-circle>
                    <a-circle radius='0.25' position='1 0 0' rotation='-90 0 0' opacity='0.2'></a-circle>
                    <a-circle radius='0.25' position='2 0 0' rotation='-90 0 0' opacity='0.2'></a-circle>
                    <a-circle radius='0.25' position='2 0 1' rotation='-90 0 0' opacity='0.2'></a-circle>
                    <a-circle radius='0.25' position='2 0 2' rotation='-90 0 0' opacity='0.2'></a-circle>

                    <a-circle radius='1.5' position='3 0 6' rotation='-90 0 0' color='green' opacity='0.5'></a-circle>
                    <a-image src='lamb.png' position='3 0.5 6'></a-image>
                </a-entity>
            </a-entity>

            <!-- place these things last in HTML, for render order reasons -->
            <!-- <a-image src="abstract.png" position="10 2 0" rotation="0 -90 0" width="6" height="6"></a-image> -->

        </a-scene>
        <div id="0Panel">
            <style type="text/css">
                h1{
                    font-size: 3em;
                }
                .quote {
                    color: gray;
                }
                .chunky-green {
                    color: #550000;
                    font-weight: 900;
                    background-color: #AAFFFF;
                }
            </style>

            <h1>A place for stuff</h1>
            <br>
            <p><a href="test/cage.html">[ cage.html ]</a></p>
            <br>
            <p><a href="test/draw-app.html">[ draw-app.html ]</a>: draw stuff</p>
            <p><a href="test/cube-clicker.html">[ cube-clicker.html ]</a>: click stuff</p>
            <br>
            <p>The Basics:</p>
            <br>
            <p>This is a personal sandbox site for testing WebVR/Aframe components. My focus so far has been more on creating re-usable reference code than making a consumer-ish website.</p>
            <br>
            <p><span class="red">NOTE: </span>"VR mode" freezes some phones, I'm looking into it. I'm on Android. #SORRYNOTSORRY</p>
            <br>
            <p>Most of my demos are targetted for Mouse+Keyboard, if you are on a VR-Headset please try out my <a href="demo/oculus-quest/index.html">Oculus Quest Demo</a>. If you are on a cell phone, you can at least move around inside my <a href="demo/touch-controls.html">Touchscreen Joystick Test<a>.</p>
            <br>
            <p>"Stuff" main page (you are here): click blue cube to play video, red sphere to move it around, green cylinder to play an audio file. Yellow box has a click counter. The paper cup image is just something I drew on (blue marker, black pen, pink powerade and coffee for the sand), the glithy image it sometimes shows is an example of <a href="https://en.wikipedia.org/wiki/Z-fighting">z-fighting<a>. The lamb is a PNG cutout. The handwriting is my actual handwriting, blown-up.</p>
            <br>
            <p>I apologize by how spartan this mess might look. My R&D focus has been mostly on interactivity and getting the basics down. It took me long enough to get where I am, and my ThreeJS skills are enough to control a <a class="chunky-green" href="https://www.youtube.com/watch?v=MWjKUd7x7O4&list=PLp1h6x4FOZbD1WFxB6FbCl7TboPiQIAH8&index=6&t=0s">ROBOTIC ARM<a> in real-time (from the frontend, via WebSockets). As an "aesthetic" consolation prize, please have this <a href="demo/bench.html">pointy ball thing</a> as proof that I can programmatically place lines and spheres in space and/or create somewhat aesthetically pleasing compositions. Consumer-ish landing page TBA.</p>
            <br>
            <p class="quote">"Remember kids, the only difference between screwing around and science is writing it down"<br>&nbsp;&nbsp;&nbsp;&nbsp; - Alex Jason (balistics expert)</p>
            <br>
            <p>The laser stick that's attached to you is a clicking device. Initially meant as a head-mounted pointing apparatus for cardboard-type devices, it's an improvement to "hover to click" reticules that plays well with mouse+keyboard interfaces.</p>
            <br>
            <p>TODAY'S MENU</p>
            <br>
            <ul>
                <li>
                    <span class="red">►</span> Oculust Quest test <a href="demo/oculus-quest/index.html">[open]</a>. Hold down grip button to start moving, use A/B buttons to draw in air.
                </li>
                <li>
                    <span class="red">►</span> WebVR Micro-Demos <a href="demo/index.html">[open]</a>
                </li>
                <li>
                    <span class="red">►</span> Project Robot <a href="https://www.youtube.com/watch?v=YwtfH2BK4ac&list=PLp1h6x4FOZbD1WFxB6FbCl7TboPiQIAH8">[open]</a>
                </li>
            </ul>

            <br>
            <p>=====</p>
            <p>Oh, hi there! For now please enjoy this simple scene.</p>
            <p>=====</p>
            <br>
            <p>And to our side we have a scene powered by the A-Frame WebVR framework, written in HTML and JavaScript.</p>
            <br>
            <p>=====</p>
            <p>You start out in a <span class="red">MYSTERIOUS VOID</span>.</p>
            <p>Your eyes grate on the GREAT WALL OF TEXT.</p>
            <p>You hold a stick in your right hand, in a crude geometric landscape.</p>
            <br>
            <p>Use your W/A/S/D keys to move around</p>
            <p>Click the green cylinder to play audio</p>
            <p>Click the blue cube to play video</p>
            <p>Click the red sphere to start moving it around</p>
            <p>Click/Touch-drag screen to rotate view</p>
            <br>
            <p>Josh the Goat says: "All the cool kids brush their teeth, don't be a loser!"</p>
            <br>
            <p>Videogame: "Don't hit Josh"</p>
            <p>Rules:<br>You loose one point each time you hit Josh with the stick<br>Keep track of the score yourself for now<br>I just got a score of -12, try beating it!</p>
            <br>
            <p>Press "F", or the "Goggles" icon to go to full-screen mode.</p>
            <p>For now, mouse and keyboard constrols only. <span class="gre">#SorryNotSorry</span></p>
            <br>
            <footer>
                <br>
                <!-- <p>123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ</p> -->
                <br>
                <p style="text-align: right; padding-right: 8px">~ <a href="https://github.com/jedpimentel/stuff" class="blu">[Click here to go to repo]</a></p>
            </footer>
        </div>
        <script src="main.js"></script>
    </body>
</html>
